#+STARTUP: inlineimages
* chapter 3: Protocols

** Why study protocols?
    - they are the rules enforced upon networks that govern how information will be relayed.

** [3.1] The Rules
    - Computer networks use rules to communicate
*** [3.1.2] Communications fundamentals
    - Message source (sender)
      + people or electronic devices that need to send a message to other individuals to other individuals or devices
    - message destination (receiver)
      + receives the message and interprets it
    - Channel
      + consists of the media that provide the pathway over which the message travel from source destination
*** [3.1.3] Communication protocols
    - protocols
      + govern communication over a network
    - two people can communicate through:
      + message source -> tranmitter -> transmission medion -> receiver -> message destination
      + message -> signal -> _________ -> signal -> message
    - before communication, the 'how' to communicate must be agreed upon
      + then, decide the format in which the message will be transmitted
*** [3.1.4] Rule establishment
    - rules that govern the conversation: protocols
    - protocols must account for the following requirements to successfully deliver a message that is understood by the receiver
      + indentified sender and receiver
      + common language and grammar
      + speed and timing of delivery
      + confrmation or acknowledgement requirement
*** [3.1.5] Network protocol requirements
    - in addition to indentifying source and destinatio, computer network protocols also define the details of how a message is transmitted across a network.
    - network protocols include the following requirements like:
      + message encoding
      + message formatting and encapsulation
      + message size
      + message timing
      + message delivery options
*** [3.1.6] Message encoding
    - encoding is the process of converting indormation into another acceptable form (for transmission)
    - decoding is th reverse process (done to interpret the information)
    - encoding between hosts must be in an appropriate format for the medium
    - messages sent are converted to bits by the sending host then encoded into a pattern of voltages on copper wires, infared lights in optical fibers, or microwaves for wireless systems. Then the destination host receives and decodes the signals to interpret the message
    - Example:
      + message source -> encoder -> transmitter -> transmission media -> receiver -> decoder -> message destination
*** [3.1.7] Message formatting and encapsulation                     
    - encapsulation
      + way of restricting the access to data (putting it inside the envelope)
    - formatting
      + presenting the messages in a standard and acceptable way, specifies information like sender info and recepient info
    - a message must use a specific format or structure
    - formats depend on the type of message and the channel that is used to deliver the message
      + IP is a protocol with similar function to an envelope. It is responsible for sending a message from the source to destination over one or more networks
*** [3.1.8] Message size
    - (in f2f communication) sentences are limited in size, relative to what a person can process at one time
    - (in networks) messages are broken into indivdual pieces that meet both the minimum and maximum size requirements
      + frames
	+ rules that govern the size of the pieces of data
	+ if messages are too short or too long, it is disregarded
	+ has its own addressing information
	+ how it goes: long messages will be sent in seperate frames (will contain original piece of the original message, has its own addressing info)-> reconstructed by the receiving host into the original message
*** [3.1.9] Message timing
    - message timing includes the following
      + flow control
	- process of managing the rate of data transmission
      + response timeout
	- how long to wait for responses and specify appropriate actions to take if response timeouts occur
      + access method
	- collision of information, what to do in such situations
	- to determine whether a line is available
	  + full-duplex
	    - 2 way
	  + half-duplex
	    - 1 way
*** [3.1.10] Message delivery options
    - messages can be delivered in different ways
      + unicast - deliver one-to-one
      + multicast - deliver to multiple people but not all
      + broadcast - deliver to all

** [3.2] Protocols
    - will give an overview of networks
*** Network protocol overview
    - network protocols
      + a common format and set of rules for exchanging data between devices
      + implemented by end devices and intermediary devices in software, hardware, or both
      + each protocol has its own functin, format and rules for communication
    - protocols that are needed to enable communications across one or more networks
      
      #+NAME: protcol types
      |----------------------------------+------------------------------------------------------------------------------------------------------------------------------|
      | protocol type                    | description                                                                                                                  |
      |----------------------------------+------------------------------------------------------------------------------------------------------------------------------|
      | Network communications protocols | - protocols enable two or more devices to communicate over one or more networks                                              |
      |                                  | - Ethernet family of technologies:                                                                                           |
      |                                  | + IP (Internet protocol)                                                                                                     |
      |                                  | + TCP (transmission control protocol)                                                                                        |
      |                                  | + HTTP (Hyper text transfer protocol)                                                                                        |
      |                                  |                                                                                                                              |
      | Network security protocol        | protocols secure data to provide authentication,data integrity, and data encryption                                          |
      |                                  | + SSH (secure shell)                                                                                                         |
      |                                  | + SSL (Secure sockets layer)                                                                                                 |
      |                                  | + TLS (transport layer security)                                                                                             |
      |                                  |                                                                                                                              |
      | routing protocols                | enable routeers to exchange route information, compare path information, and select the best path to the destination network |
      |                                  | + OSPF (open shortest path first)                                                                                            |
      |                                  | + BGP (Border gateway protocol)                                                                                              |
      |                                  |                                                                                                                              |
      | Service discovery protocols      | used for automatic detection of devices or services                                                                          |
      |                                  | + DHCP (dynamic host configuration protocol): discovers services for IP address allocation                                   |
      |                                  | + DNS (domain name system): used to perform name-to-IP address translation                                                   |
      |----------------------------------+------------------------------------------------------------------------------------------------------------------------------|
*** [3.2.2] Network protocol functions
**** Network communication protocol
    - resposible for functions necessary for network communications betweek end devices
    - e.g. use of IPv4 to allow devices to understand where to send and where the messge came from

      #+NAME: functions of the network communication protocol
      | function              | description                                                                                                |
      |-----------------------+------------------------------------------------------------------------------------------------------------|
      | addressing            | identifies the sender and intended receiver using a defined addressing scheme                              |
      |                       |                                                                                                            |
      | reliability           | provides guaranteed delivery mechanisms in case messsages are lost or corrupted in transit (TCP)           |
      |                       |                                                                                                            |
      | flow control          | ensures data flows at an efficient rate (TCP provides flow control services)                               |
      |                       |                                                                                                            |
      | sequencing            | uniqely labels each transmitted segment of data (for reassembly) (this is also provided by TCP)            |
      |                       |                                                                                                            |
      | error detection       | used to determine if data became corrupted during transmission (provided by Ethernet, IPv4, IPv6, and TCP) |
      |                       |                                                                                                            |
      | application interface | contains informationused for process-to-process communication between network applications (HTTP, HTTPS)   |
      |-----------------------+------------------------------------------------------------------------------------------------------------|
*** [3.2.3] Protocol interaction
    - messages sent over a network typically requires several protocols
    [[./media/web-req.png]]
    - in sending a requiest to a web server for a webpage includes the following protocols:
      + HTTP (hypert text transfer protocol)
	- governs the way the webserver communicates with the web client
	- defines the content and formtting of the requests and responses to be exchanged
	- both the web server and the client implement the protocol
	- HTTP relies on other protocols to gover how the messages are transported between the web server and client
      + TCP (Transmission control protocol)
	- manages the individual conversations
	- responsible for reliable delivery of the information and managing flow control between end devices
      + IP (internet protocol)
	- responsible for delivering messages from sender to the receiver
	- used by routers to forward messages across multiple networks
      + Ethernet
	- responsible for the delivery of messages from one NIC to another NIC on the same Ethernet LAN

** [3.3] Protocol suites

*** [3.3.1] Network protocol suites
    - protocol suites
      + are designed to work with each other seamlessly
      + tldr: protocols that work together (efficiently)
      + groups of inter-related protocols necessary to perform a communication function
    - we can think of protocol suites as a stack
      - lower levels are concerned with moving data over the network and providing services to the upper layers

*** [3.3.2] Evolution of protocol suites
    - [[./media/protocol-suites.png]]
    - during the evolution of network communications and the internet, there were several competing suites;
      + TCP/IP (internet protocol suite)
	- most common and relevant protocol today
	- open standard protocol maintained by the Internet Engineering Task Force (IETF)

      + OSI (open systems interconnection) protocols
	- family of protocols developed jointly in 1977 (international organization for standardization (ISO) and international telecommunications union(ITU))
	- included the OSI model
	  - 7 layer reference model
	- mainly known today for its layed model
	- have been largely replaced by the internet protocol suite
	  
      + Apple talk
	- short-lived proprietary protocol suite released by apple Inc (1985)
	- apple eventuall adapted TCP/IP

      + Novell Netware
	- short-lived proprietary protocol suite and network operating system developed by Novell Inc (1983)
	- used the IPX network protocol
	- eventually (1995) adapted TCP/IP

*** [3.3.3] TCP/IP protocol example
    [[./media/TCPIP.png]] 
    - TCP/IP protocols are available for the following layers:
      + application
      + transport
      + internet
    - it is not used in the ACCESS LAYER
      + access layers are: LAN, WLAN
      + it is responsible for delibering the IP packet over the physical medium

*** [3.3.4] TCP/IP protocol suite
    - popular evolutions of the internet protocol suite
    [[./media/TCPIPE.png]]
    - two important aspects of the suite for ventors and manufacturers
      + Open standard protocol suite
	- freely available to the public and can be used by any venter on their hardware and software
      + standards-based protocol suite
	- has been endorsed by the networking industry and approved by a standards organization (ensures interoperability with other manufacturers)

**** brief descriptions of some protocols
***** Application layer

****** Name system
    - DNS
      + domain name system
      + translates domain names to IP addresses

****** host config
    - DHCPv4
      + dynamic host configuration protocol for IPv6
      + dynamically assigns IPv4 addressing information to DHCPv4 clients at start-up and allows the addresses to be re-used when no longer needed
    - DHCPv6
      + DHCP for IPv6
      + dynamically assigned IPv6 addessing information to DHCPv6 clients at start up
    - SLAAC
      + stateless address autoconfiguration
      + a method that allows a device to obtain its IPv6 addressing information without using a DHCPv6 server

****** Email
    - SMTP
      + simple mail transfer protocol
      + enables clients ro send email to a mail server
      + enables servers to send email to ther servers
    - POP3
      + post office protocol version 3
      + enables clients to retrieve email from a mail server and download the email to the client's local mail application
    - IMAP
      + Internet message access protocol
      + enables clients to access email stored on a mail server as well as maintaining email on the server

****** File transfer
    - FTP
      + file transfer protocol
      + enable a user to access and transfet files to and from another host over a network
      + a reliable connection-orianted and acknowledged filed delivery protocol
    - SFTP
      + SSH file transfer protocol
      + extenstion to secure shell protocol
      + used to establish a a secure file transfer session in which the file transfer is encrypted
    - TFTP
      + trivial file transfer protocol
      + a simple, connectionless file transfer protocol with best-effort unacknowledged file delivery
      + uses less overhead than FTP

****** web ang web service
    - HTTP
      + hypertext transfer protocol
      + set of rules for exchanging text, graphic images, sournd video, and other multimedia files on the WWW
    - HTTPS
      + HTTP secure
      + secure form of http that encrypts data that is exchanged over the WWW
    - REST
      + representationl state transfer
      + web service that uses application programming interfaces and http requests to create web applications

***** transport layer
****** connection-oriented
    - TCP
      + transmission control protocol
      + enables reliable communication between processes runnnning on seperate hosts and provides readable, acknowledged transmissions that confirm successful delivery

****** connectionless
    - UDP
      + user datagram protocol
      + enables a process running on one host to send packages to a process running on another host
      + does not confirm successful user datagranm transmission

***** internet layer

****** internet protocol
    - IPv4
      + internet protocol version 4
      + receives message segments from the transport layer, packages messages into packets, and addresses packets for end-to-end delivery over a network
      + uses a 32-bit address
    - IPv6
      + IP version 6
      + uses to IPv4 but uses a 128-bit address
    - NAT
      + Network address translation
      + translates IPv4 addressesa from a private network into globally unique public IPv4 addresses
	

****** messaging
    - ICMPv4
      + internet control messge protocol
      + provides feedback from a destination host to a source about erres in packet delivery
    - ICMPv6
      + ICMP for IPv6
    - ICMPv6 ND
      + ICMPv5 Neighbor discovery
      + includes four protocol messages that are used for address resolution and duplicate address detection

****** routing protocols
    - OSPF
      + open shortest path first
      + link-state routing protocol that uses a heirarchical design based on areas
      + open standard interior routing protocol
    - EIGRP
      + enhanced interior gateway routing protocol
      + open standard routing protocol developed by Cisco that uses a composite metric based on bandwidth, delay, load, and reliability
    - BGP
      + border gateway protocol
      + open standard ecterior gateway routing prtocol used between internet service providers
      + commonly used between ISPs and their large private clients to exchange routing information

***** network access layer
****** address resolution
    - ARP
      + address resolution protocol
      + provides dynamic address mapping between an IPv4 address and a hardware address
****** data link protocols
    - ethernet
      + defines the rules for wiring and signaling standards of the network access layer
    - WLAN
      + wireless local area network
      + defines rules for wireless signaling across the 2.4Ghz and 5Ghz radio frequencies

** [3.4] Standards organizations

*** [3.4.1] Open standards
    - encourage interoperability, competition, and innovation among manufacturers of network components
    - guarantee that no single company can monopolize the market or have an unfair advantage over its competition
  
*** [3.4.2] internet standards
    [[./media/NETORGS.png]]
    - ISOC
      + responsible for promoting the open development and evolution of internet use
    - IAB
      + responsible for the overall mangement and development of internet standards
    - IETF
      + develops,updates, and maintains internet and TCP/IP technologies
      + RFC (request for comments) documents
	- process and documents for developing new protocols and updating existing protocols
    - IRTF
      + focused on long-term research related to internet and TCP/IP protocols
      + ex. anti-spam research group (ASRG), crypto forum research group (CFRG), and peer-to-peer reserach group (P2PRG)

**** next figure displays organizations involved with the developmet and support of TCP/IP and include IANA and ICANN
    [[./media/IANA.png]]
    - internet corporation for assigned names and numbers
      + coordinates IP address allocation, management of domain names, and assignment of other information used in tcp/ip protocols
    - internet assigned numbers authority
      + resposible for overseeing and managing IP address allocation, domain name management, and protocol identifiers for ICANN

*** [3.4.3] Electronic and communications standards
    - institute of electrical and electronics engineers (IEEE)
      + organizaiton of electrical andelectronics and engineers dedicated to advancing technological innovation and creating standards in a wide area of industries
      + includes 802.3 ethernet, 802.11 wlan standard
    - Electronic industries alliance (IEA)
      + best known for its standard relating to electrical wiring, connectors, and the 19-inch racks used to mount networking devices
    - telecommunications industry association (TIA)
      + responsible for developing communication standards in variery of areas
    - international telecommunications union-telecommunication standardization sector (ITU-T)
      - one of the largest and oldest standards organizaions
      - defines standards for video compression, internet protocol television (IPTV), and broadband communications (DSL)

	
** [3.5] Reference models

*** benefirs of using a layered model
    - models are used to visualized thinking about a network
    - there are two layered models that are used to descibe network operations:
      + OSI reference model
      + TCP/IP reference model
    [[./media/REFERENCEMODS.png]]

**** the OSI reference model
    - provides and extensive list of functions and services that can occue at each layer
    - provides consistency with all types of network protocols and se4vices by describing what must be done at a pareticulat layer
    - APSTNDP!
    #+NAME: OSI REFERENCE MODEL
    | oso model layer  | description                                                                                                                                                                          |
    |------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | 7 - application  | contains protocols used for process-toprocess communications                                                                                                                         |
    |                  |                                                                                                                                                                                      |
    | 6 - presentation | provides common representation of the data transferred between application layer services                                                                                            |
    |                  |                                                                                                                                                                                      |
    | 5 - session      | provices services to the presentation layer to organize its dialogue and to manage dta exchange                                                                                      |
    |                  |                                                                                                                                                                                      |
    | 4 - transport    | defines services to segment, transfer, and reassemble, the data over the network indentified end devices                                                                             |
    |                  |                                                                                                                                                                                      |
    | 3 - network      | provices services to exchange the individual pieces of data over the network between identified end devices                                                                          |
    |                  |                                                                                                                                                                                      |
    | 2 - data link    | describe methods for exchanging data frames between devices over a common media                                                                                                      |
    |                  |                                                                                                                                                                                      |
    | 1 - physical     | describe the mechanical, electrical, functional, and procedural means to activate, maintain, and deacticate physical connections for a bit transmissionto and from a  network device |
    |                  |                                                                                                                                                                                      |
    |------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|


**** TCP/IP MODEL
    - aka the internet model
    #+NAME: TCP/IP protocol model
    | TCP/IP model layer | desc                                                                   |
    |--------------------+------------------------------------------------------------------------|
    | 4 - application    | represents data to the user, plus encoding, and dialog control         |
    |                    |                                                                        |
    | 3 - transport      | supports communication between various devices across diverse networks |
    |                    |                                                                        |
    | 2 - internet       | determines th best path through the network                            |
    |                    |                                                                        |
    | 1 - network access | controls the hardware devices and media that make up the network       |
    |--------------------+------------------------------------------------------------------------|

*** [3.5.4] comparison
    [[./media/TCPOSI.png]]
    
    - OSI layer 3, network layer, maps directly to the internet later (2nd layer of TCP/IP model)
      + used to descibe protodcols that address and route messages through an internetwork
    - transport layer
      + describes general services and functions that provide ordered and reliable delivery opf data betwen source and destination hosts
    - application layer and application, presentation, session layers
      + osi used as references for applicaiton software devs and vendors to produce applicaitons that operate on networks
      + tcp/ip provide specific functionality to a variety of end user application
    - ose model seperates the data link layer fromthe physcial layer (commonly used when referring to these lower layers)
      
** [3.6] Data Encapsulation
*** [3.6.1] Segmenting messages
    - approach to divide data into smaller, more manageable pieces to send over the network
    - dividing a stream of data into smaller units for transmission over the network
    - necessary in TCP/IP because data is sent through individual IP packets
**** advantages of segmenting messages
    - increases speed
      + large amounts of data can be sent through the network without typing up a communications link
      + allows conversations between the network to be interleaved (multiplexing)
    - increases efficiency
      + if a single segment fails to reach its destination, only that segment needs to be transmitted
*** [3.6.2] Sequencing
    - the process to ensure that a message gets to the right destinatin and can be reassemnled into the content of the original message
    - usually handled by the TCP
*** [3.6.3] Protocol data units (PDU)
    - PDU is the form a piece of data takes at any layer of the network
    - UDP PDUs are called 'datagrams' or 'IP datagrams
**** Types of PDU
    - Data
      + at the application layer
    - Segment
      + at the transport layer
    - Packet
      + at the network layer
    - Frame
      + at the data link layer
    - Bits
      + at the physical layer
**** encapsulation process
      + information added to data as it is passed down the protocol stack
      [[./media/ENCAPSULATE.png]]

** [3.7] Data access
*** [3.7.1] Addresses
    - directs where messeges go
    - handles by the network and data link laters (delivering dat from src. to dest.)
      [[./media/DATALINK.png]]
**** Network and data link layer source and destination addresses
    - Network layer src. and dest. addresses
      + responsible for delivering the IP packet form original source to the final destination (remote or local)
    - Data link layer src. and dest. addresses
      + responsible for delivering the data link frame from one NIC to another NIC on the same network
*** [3.7.2] Layer 3 logical address
    - layer 3 = network layer
      [[./media/LAYER3.png]]
**** IP address
    - logical address used to deliver the IP packet from original source to the final destination
***** IP packet contains the following
	- source IP address
	- destination IP address
***** IP addresses contain two parts
	- Network portion (IPv4) or Prefix (IPv6)
	  + left-most part of the address
	  + all devices on the same networ will have the same network portion of the address
	- Host portion (IPv4) or Interface ID (IP6)
	  + the remaining part of the address that identifies the specific device on the network
	  + unique for each device or interface onthe network
	*** the subnet mask (IPv4) or prefix-length(IPv6) is used to identify the network portion of an IP address from the host portion
*** [3.7.4] Role of the Data link (Layer 2) layer addresses: Same IP Network
    - when the sender and receiver of the IP packet are ont he same network, the data link frame is sent directly to the receiving device
    - on anethernet network, data link addresses are known as Ethernet Media Access Control (MAC) addresses
**** MAC (Media Access Control) addresses
    - are physically embedded on the ethernet NIC
***** types
	- source MAC address
	  + Ethernet MAC address of the sending device
	- destination MAC address
	  + when the receiving device is on a different network, the sending device will use the ethernet MAC address of the default gateway or router
*** [3.7.8] Data link (layer 2) addresses
    - purpose is of the data link address is to deliver the data link address is to deliver the data link frame from one network interface to another network interface on the same network
    - before an IP packaet can be sent over a wired or wireless network, it MUST BE ENCAPSULATE IN A DATA LINK FRAME, so it can be transmitted over the physical medium
**** IP packet is encapsulated in a data link frame that contains the following information
    - Source data link address
      + physical address of the NIC (sender)
    - Destination data link address
      + physical address of the NIC (receiver)
